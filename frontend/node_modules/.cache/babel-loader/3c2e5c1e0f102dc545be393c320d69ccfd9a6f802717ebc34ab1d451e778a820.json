{"ast":null,"code":"var _jsxFileName = \"/Users/kylewilson/CS314TermProject/frontend/src/pages/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport socket from \"../socket\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [selectedGroup, setSelectedGroup] = useState(\"\");\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) setUser(JSON.parse(storedUser));\n  }, []);\n  useEffect(() => {\n    if (selectedGroup) {\n      console.log(`ðŸ”— Joining group: ${selectedGroup}`);\n      socket.emit(\"joinGroup\", selectedGroup);\n    }\n  }, [selectedGroup]);\n  useEffect(() => {\n    socket.on(\"receiveMessage\", message => {\n      console.log(\"ðŸ“© Received message:\", message);\n      setMessages(prev => [...prev, message]);\n    });\n    return () => socket.off(\"receiveMessage\");\n  }, []);\n  const sendMessage = e => {\n    e.preventDefault();\n    if (!input.trim() || !user) return;\n    const messageData = {\n      token: localStorage.getItem(\"token\"),\n      sender: user.username,\n      content: input,\n      groupId: selectedGroup\n    };\n    console.log(\"ðŸš€ Sending message:\", messageData);\n    socket.emit(\"sendMessage\", messageData);\n    setInput(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chat Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Welcome, \", (user === null || user === void 0 ? void 0 : user.username) || \"Guest\", \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Group:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setSelectedGroup(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Choose Group --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"group1\",\n          children: \"Group 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"group2\",\n          children: \"Group 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      children: messages.filter(msg => msg.groupId === selectedGroup).map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [msg.sender, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), \" \", msg.content]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: sendMessage,\n      className: \"input-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type a message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"BQnVMX4Rx+7Q3GEBUj13C/pf9SM=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","socket","jsxDEV","_jsxDEV","Chat","_s","user","setUser","messages","setMessages","input","setInput","selectedGroup","setSelectedGroup","storedUser","localStorage","getItem","JSON","parse","console","log","emit","on","message","prev","off","sendMessage","e","preventDefault","trim","messageData","token","sender","username","content","groupId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","value","filter","msg","map","index","onSubmit","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/kylewilson/CS314TermProject/frontend/src/pages/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport socket from \"../socket\";\n\nconst Chat = () => {\n  const [user, setUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [selectedGroup, setSelectedGroup] = useState(\"\");\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) setUser(JSON.parse(storedUser));\n  }, []);\n\n  useEffect(() => {\n    if (selectedGroup) {\n      console.log(`ðŸ”— Joining group: ${selectedGroup}`);\n      socket.emit(\"joinGroup\", selectedGroup);\n    }\n  }, [selectedGroup]);\n\n  useEffect(() => {\n    socket.on(\"receiveMessage\", (message) => {\n      console.log(\"ðŸ“© Received message:\", message);\n      setMessages((prev) => [...prev, message]);\n    });\n\n    return () => socket.off(\"receiveMessage\");\n  }, []);\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    if (!input.trim() || !user) return;\n\n    const messageData = {\n      token: localStorage.getItem(\"token\"),\n      sender: user.username,\n      content: input,\n      groupId: selectedGroup,\n    };\n\n    console.log(\"ðŸš€ Sending message:\", messageData);\n    socket.emit(\"sendMessage\", messageData);\n    setInput(\"\");\n  };\n\n  return (\n    <div className=\"chat-container\">\n      <h1>Chat Application</h1>\n      <p>Welcome, {user?.username || \"Guest\"}!</p>\n\n      <div>\n        <label>Select Group:</label>\n        <select onChange={(e) => setSelectedGroup(e.target.value)}>\n          <option value=\"\">-- Choose Group --</option>\n          <option value=\"group1\">Group 1</option>\n          <option value=\"group2\">Group 2</option>\n        </select>\n      </div>\n\n      <div className=\"chat-box\">\n        {messages\n          .filter((msg) => msg.groupId === selectedGroup)\n          .map((msg, index) => (\n            <div key={index} className=\"message\">\n              <strong>{msg.sender}:</strong> {msg.content}\n            </div>\n          ))}\n      </div>\n\n      <form onSubmit={sendMessage} className=\"input-form\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Type a message...\"\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Chat;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}